# Procedural-Planet-Generator
Side project inspired by the video game Outer Wilds.

## Screenshots

![Enemy Battle](assets/screenshots/Fight-1.png)
![Dialogue UI](assets/screenshots/Dialogue-UI.png)
![Boss Fight](assets/screenshots/Bossfight-1.png)
![Hats UI](assets/screenshots/Hats-UI.png)

## Overview
- A project created to simulate planet generation. Currently a WIP with the hopes of being updated every two weeks.
- I chose this project primarily because I liked the idea of a modular sort of simulation, in which prior algorithms were only indirectly related to future ones, allowing for more freedom and less fear of breaking something.

## Tech Stack
- Engine: Unity
- Language: C#, HLSL

## Project Setup
This repository contains the scripts from the Unity files to be run locally. It does not include exe and build files to reduce bloating.

## Gameplay
Although as of now, the only "gameplay" is changing random stats, a goal in the future is to make a playable character who can explore an entirely procedural solar system. I would make each celestial body an instance of a class, having different types. (Gas giant, Goldilocks planet, asteroid, star, etc.) Ideally this solar system would be simulated entirely with integration-based newtonian physics that are akin to the Outer Wilds gameplay loop.

## What I Learned
-This project has consisted almost entirely of math. More than any coding, art, or physics, it's the math that takes the time. For example, when creating the sphere to map a planet to, I could've used a generic UV sphere supplied by blender or unity, but I wanted to generate my own to have fine control over the number of vertices, faces, etc. So, the first sub-project was to make an icosphere that can be subdivided as much as I'd like. 
-Icosphere: This was a lot of index math. If I redid it, I probably would've spent more time making an ironclad winding pattern so the vertices and faces are generated neatly, but as of now they're somewhat messy. As a result, I had to make redundancy-checker funcitons that are not exactly optimal. Additionally, there is no tessellation and no plans for it--but if I were to improve the sphere, that would be on the list. 
-Tectonics: The second phase was making tectonics for the planet. I wanted this so I could make semi-realistic land formations based on the collisions of tectonic plates. These could have been created through a number of strategies, but I chose one I hadn't seen before. The tectonic plates are generated by choosing a random vertex on the surface of the sphere, then checking a radius around said point. If other vertices don't belong to a plate, they now belong to the same plate that inital vertex does. Now, this is quite basic and only forms circles; most people move on to more advanced fractal algorithms to achieve the blobby shape tectonics on Earth make. I decided that was a convoluted solution. Instead, I changed the radius from a constant into an equation. Using trig functions, I made the outer bounds have that characteristic blobby, deformed shape; then, atop that, I added randomized constants that determine the wavelength of the trig functions. This resulted in shapes I am quite proud of, especially as it's a relatively simply solution that I hadn't seen before. After grouping vertices into respective tectonics, I needed to add two things: oceanic vs continetal tectonics, and direction vectors of these tectonics. To achieve this, and to color them, I used a technique I'd learned from an Outer Wilds technical video (linked at the bottom): using a color channel to store information. The R, G, and B channels store the X, Y, and Z elements of a unit direction vector (determined by Euler, also linked below). The alpha channel holds two pieces of info in one integer: the plate ID of the vertex, and whether it's oceanic or tectonic. Since a channel can store values 0 - 255, and there is a limit of 99 tectonic plates, I chose allocated the third digit to be oceanic or continental. This means the tens and ones digits are the ID of the plate, while the 100's corresponds to the type of plate. 154 would mean continental plate 54, and 072 would be oceanic plate 72.

## Future Additions
I hope to update this page every 2 weeks, as I have a number of additional "phases" planned.
-Adding a fractal-based heightmap combined with octave noise to create semi realistic land formations
-Using splines and gradients to add rivers that accruately travel down a slope to a body of water
-using boids to add birds that fly around the atmosphere, giving the planet life
-Adding climates (biomes, temperatures, forests, clouds, etc.)
-Adding other planet types, of a simpler caliber, then creating an entirely procedural solar system
-Adding a player and potential gameplay elements

## Future Improvements
There are many improvements that could be made, but the most glaring to me is the lack of object-oriented-ness. My own knowledge of object-oriented programming is constantly growing, especially as my college career goes on. Another significant improvement is optimization (tessellation, culling, etc.).

## Sources
